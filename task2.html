<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.8/jquery.min.js"></script>
</head>

<body>
<div>
    <button id="button1">Animation 1</button>
    <button id="button2">Animation 2</button>
    <span id="msg" style="display:none;">Раскройте прямоугольник</span>
</div>

<div id="cub" style="background-color:rgb(0, 128, 0);height:100px;width:100px;display:none;">
</div>
<div id="counter">0</div>

<script>
$(document).ready(function(){
    $("#button1").click(function(){
        $("#cub").animate({
            height: 'toggle'
        });
        if ($('#cub').css('display') != 'none') {
            $('#msg').hide();
        }
        if ($('#cub').css('height') != '100px') {
            $('#counter').html(+$('#counter').html()+1);
        }
    });
    $('#button2').click(function () {
        if ($('#cub').css('display') == 'none') {
            $('#msg').show();
        }

        var currentColor = $('#cub').css('background-color');
        var colors = ['rgb(255, 0, 0)', 'rgb(255, 128, 0)' , 'rgb(0, 128, 0)'];
        var index = Math.floor(Math.random() * 3);
        var definedColor = colors[index];
        
         if (definedColor != currentColor) {
            $("#cub").css({"background-color": definedColor});      
        } else {
            colors.splice(index, 1);
            index = Math.floor(Math.random() * 2);
            definedColor = colors[index];
            $("#cub").css({"background-color": definedColor});
        }
    });

});
</script>
</body>
</html>
